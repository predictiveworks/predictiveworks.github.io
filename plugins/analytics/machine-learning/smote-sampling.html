<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>SMOTE Sampling</title>
    <link rel="stylesheet" href="/assets/css/fontawesome-free-5.10.1-web/css/all.min.css"/>
    <link rel="stylesheet" href="/assets/css/styles.css">
    <link rel="stylesheet" href="/assets/css/syntax.css">
  </head>
  <body>
    <div class="site">

      
<div class="site-header">

  <!-- title -->
  <div class="site-header-title">
    <div class="header-wrapper set-maxwidth">
      <div class="site-header-content">
        <div class="logo"></div>
        <div class="header-nav">
          <a href="/concepts/index.html">
            
              <div class="header-nav-item">Concepts</div>
            
          </a>
          <a href="/features/index.html">
            
              <div class="header-nav-item">Features</div>
            
          </a>
          <a href="/plugins/index.html">
            
              <div class="header-nav-item active">Plugins</div>
            
          </a>
          <a href="/maturity-model.html">
            
              <div class="header-nav-item">Maturity Model</div>
            
          </a>
          <a href="/what-others-do.html">
            
              <div class="header-nav-item">What Others Do</div>
            
          </a>
        </div>
      </div>
    </div>
  </div>

  <div class="site-header-message" style="background:#1bacab;">
    <div class="header-wrapper set-maxwidth">
      <div class="site-header-content">
        <div class="column-left"></div>
        <div class="column-content vertical">
            <div class="site-main-message">
              <div class="plug-and-play"></div>
              <div class="message-title">
                <div class="large">Plug and Play</div>
                <div>Analytics at Scale</div>
              </div>
            </div>
          <div class="message-subtitle">
            Build predictive data pipelines with 200+ code-free plugins
          </div>
        </div>
        <div class="column-right">
        </div>
      </div>
    </div>
  </div>

  <!-- breadcrumbs -->
  <div class="header-wrapper set-maxwidth">
    <div class="site-header-breadcrumbs">
      <div class="column-left"></div>
      <div class="column-content">
        
          <ul class="breadcrumb">
            <li><a href="/">Home</a> </li>
            
            
              <li >
                
                  <i class="fa fa-chevron-right fa-icon"></i>
                  <a href="/plugins/">
                    plugins
                  </a>
                
              </li>
            
              <li >
                
                  <i class="fa fa-chevron-right fa-icon"></i>
                  <a href="/plugins/analytics/">
                    analytics
                  </a>
                
              </li>
            
              <li >
                
                  <i class="fa fa-chevron-right fa-icon"></i>
                  <a href="/plugins/analytics/machine-learning/">
                    machine learning
                  </a>
                
              </li>
            
              <li class="active">
                
                <i class="fa fa-chevron-right fa-icon"></i>
                smote sampling
                
              </li>
            
          </ul>
        
      </div>
      <div class="column-right"></div>
    </div>

  </div>

</div>


      <div class="site-wrapper set-maxwidth">

        <div class="site-content">

          <div class="column-left">
            <div class="main-nav">
              <nav class="nav-main">
  <div class="nav-container">

    <!-- concepts -->
    <a href="/concepts/">
      <div class="nav-title">Concepts</div>
    </a>

    <!-- features -->
    <a href="/features/">
      <div class="nav-title">Features</div>
    </a>

    <!-- plugins -->
    <a href="/plugins/">
      <div class="nav-title">Plugins</div>
    </a>

    <div class="nav-subtitle">Analytics</div>

      <a href="/plugins/analytics/deep-learning/">
        <div class="nav-article group">Deep Learning</div>
      </a>

      <a href="/plugins/analytics/machine-learning/">
        <div class="nav-article group selected">Machine Learning</div>
      </a>

      <a href="/plugins/analytics/machine-learning/anomaly-detection.html">
        <div class="nav-article item">Anomaly Detection</div>
      </a>

      <a href="/plugins/analytics/machine-learning/feature-engineering.html">
        <div class="nav-article item">Feature Engineering</div>
      </a>

      <a href="/plugins/analytics/machine-learning/classification.html">
        <div class="nav-article item">Classification</div>
      </a>

      <a href="/plugins/analytics/machine-learning/clustering.html">
        <div class="nav-article item">Clustering</div>
      </a>

      <a href="/plugins/analytics/machine-learning/data-mining.html">
        <div class="nav-article item">Data Mining</div>
      </a>

      <a href="/plugins/analytics/machine-learning/recommendation.html">
        <div class="nav-article item">Recommendation</div>
      </a>

      <a href="/plugins/analytics/machine-learning/regression.html">
        <div class="nav-article item">Regression</div>
      </a>

      <a href="/plugins/analytics/machine-learning/smote-sampling.html">
        <div class="nav-article item">SMOTE Sampling</div>
      </a>

      <a href="/plugins/analytics/natural-language/">
        <div class="nav-article group">Natural Language</div>
      </a>

      <a href="/plugins/analytics/queries-and-rules/">
        <div class="nav-article group">Queries & Rules</div>
      </a>

      <a href="/plugins/analytics/time-series/">
        <div class="nav-article group">Time Series</div>
      </a>

  </div>
</nav>

            </div>
          </div>

          <div class="column-content">
            <div class="main-content">
                <h2 id="overview">Overview</h2>

<p>In machine learning, <em>imbalanced</em> datasets are no surprise. If the datasets intended for classification problems
or other problems related to discrete predictive analytics have an unequal number of samples for different classes,
then those datasets are said to be imbalanced.</p>

<p>Classes having comparatively fewer instances than others are said to be a minority with respect to the classes having
a comparatively larger number of the samples (majority). Training ML models with imbalanced datasets often causes the
models to develop a certain bias towards the majority classes.</p>

<p>The SMOTE algorithm, short for Synthetic Minority Over-sampling Technique, addresses this issue imbalanced classes.
It is based on nearest neighbors (determined by the Euclidean distance of data points in the feature space).</p>

<p>The feature values of nearest neighbor samples are used to interpolate synthetic feature values to retrieve a certain
predefined percentage of additional synthetic samples (over-sampling).cApplying this algorithm to the samples of the
training datasets that belong to the minority classes finally ends up with a more balanced training set and the removal
of the model bias.</p>

<blockquote>
<p>
Apache Spark ML does not support SMOTE out of the box.
</p>
</blockquote>

<p>The SMOTE algorithm is implemented as an Apache Spark ML Transformer and also made available as a plugin component for CDAP data pipelines.</p>

<h2 id="smotesampler">SMOTESampler</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nd">@Plugin</span><span class="o">(</span><span class="n">type</span> <span class="o">=</span> <span class="nc">SparkCompute</span><span class="o">.</span><span class="na">PLUGIN_TYPE</span><span class="o">)</span>
<span class="nd">@Name</span><span class="o">(</span><span class="s">"SMOTESampler"</span><span class="o">)</span>
<span class="nd">@Description</span><span class="o">(</span><span class="s">"A preparation stage for either building Apache Spark based classification or "</span>
<span class="o">+</span> <span class="s">"regression models. This stage leverages the SMOTE algorithm to extends a training "</span>
<span class="o">+</span> <span class="s">"dataset containing features &amp; labels with synthetic data records."</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SMOTESampler</span> <span class="kd">extends</span> <span class="nc">SMOTECompute</span> <span class="o">{</span>

    <span class="o">...</span>

<span class="o">}</span>
</code></pre></div></div>

<p><b>Parameters</b></p>

<table class="params" width="100%">

    <colgroup>
      <col width="20%" />
      <col width="80%" />
    </colgroup>

    <tr>
      <td>Features Field</td>
      <td>
      The name of the field in the input schema that contains the feature vector.
      </td>
    </tr>

    <tr>
      <td>Label Field</td>
      <td>
      The name of the field in the input schema that contains the label.
      </td>
    </tr>

    <tr>
      <td colspan="2"><b>Model Configuration</b></td>
    </tr>

    <tr>
      <td>Number of Hash Tables</td>
      <td>
      The number of hash tables used in LSH OR-amplification. LSH OR-amplification can be used to reduce the false negative rate. Higher values for this parameter lead to a reduced false negative rate, at the expense of added computational complexity. Default is 1.
      </td>
    </tr>

    <tr>
      <td>Bucket Length</td>
      <td>
      The length of each hash bucket, a larger bucket lowers the false negative rate. The number of buckets will be (max L2 norm of input vectors) / bucketLength.
      </td>
    </tr>

    <tr>
      <td>Nearest Neighbors</td>
      <td>
      The number of nearest neighbors that are taken into account by the SMOTE algorithm to interpolate synthetic feature values. Default is 4.
      </td>
    </tr>

</table>


            </div>
          </div>

          <div class="column-right">

            <div id="content-toc">

              <div class="toc-header">
                <i class="fa fa-bars"></i><span>Table of Content</span>
              </div>
              <div class="toc-body">
                <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#overview">Overview</a></li>
<li class="toc-entry toc-h2"><a href="#smotesampler">SMOTESampler</a></li>
</ul>
              </div>
            </div>

          </div>

        </div>

      </div>

      
<div class="site-footer">

    <div class="column-left"></div>
    <div class="column-content">
      Predictive<span class="brand-teal">Works.</span> is an initiative of Dr. Krusche & Partner PartG (c) 2020. All rights reserved.
    </div>
    <div class="column-right"></div>

</div>


    </div>
  </body>
</html>
